/// <reference types="node" />
import yargs from 'yargs-parser';
import { Awaitable, Dict } from 'cosmokit';
export * from './utils';
export declare const cwd: string;
export declare const meta: PackageJson;
export declare const configRequire: NodeRequire;
export declare function requireSafe(id: string): any;
export interface Commands {
}
export interface PackageConfig {
}
export interface ProjectConfig {
    alias?: Dict<string | string[]>;
    require?: string[];
    commands?: Commands;
    pipeline?: Dict<string[]>;
}
export declare const config: ProjectConfig;
export interface Manager {
    name: string;
    version: string;
}
export declare class Project {
    cwd: string;
    argv: Arguments;
    config: ProjectConfig;
    manager: Manager;
    targets: Record<string, PackageJson>;
    workspaces: Record<string, PackageJson>;
    indent: string;
    constructor();
    require(id: string): any;
    initialize(argv: Arguments): Promise<void>;
    locate(name: string): string[];
    emit(name: string, ...args: any): Promise<void>;
    save(path: string): Promise<void>;
}
export interface Hooks {
}
export declare const hooks: {
    [K in keyof Hooks]: Hooks[K][];
};
export declare function addHook<K extends keyof Hooks>(name: K, callback: Hooks[K]): void;
type CommandCallback = (project: Project) => Awaitable<void>;
export interface Arguments extends yargs.Arguments {
    config: Options;
}
export interface Options extends yargs.Options {
    manual?: boolean;
}
export declare const commands: Record<string, [CommandCallback, Options]>;
export declare function register(name: string, callback: (project: Project) => void, options?: Options): void;
export type DependencyType = 'dependencies' | 'devDependencies' | 'peerDependencies' | 'optionalDependencies';
export interface PackageJson extends Partial<Record<DependencyType, Record<string, string>>> {
    name: string;
    type?: 'module' | 'commonjs';
    main?: string;
    module?: string;
    bin?: string | Dict<string>;
    exports?: PackageJson.Exports;
    description?: string;
    private?: boolean;
    version?: string;
    workspaces?: string[];
    yakumo?: PackageConfig;
    peerDependenciesMeta?: Record<string, {
        optional?: boolean;
    }>;
}
export declare namespace PackageJson {
    type Exports = string | {
        [key: string]: Exports;
    };
}
